<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PropertyPayTrack Dashboard</title>
    <!-- Preconnect for performance -->
    <link rel="preconnect" href="https://fonts.googleapis.com" crossorigin>
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link rel="preconnect" href="https://cdnjs.cloudflare.com" crossorigin>
    <link rel="preconnect" href="https://cdn.jsdelivr.net" crossorigin>

    <!-- Modern fonts: Inter for body (weights: 300,400,500,600,700), Playfair Display for headings (400,700) -->
    <link rel="preload" href="https://fonts.googleapis.com/css2?family=Playfair+Display:ital,wght@0,400;0,700;1,400;1,700&family=Inter:wght@300;400;500;600;700&display=swap" as="style" onload="this.rel='stylesheet'">
    <noscript><link href="https://fonts.googleapis.com/css2?family=Playfair+Display:ital,wght@0,400;0,700;1,400;1,700&family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet"></noscript>

    <!-- Tailwind CSS v3 for modern utilities -->
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            darkMode: 'class',
            theme: {
                extend: {
                    colors: {
                        primary: '#4F46E5',
                        secondary: '#10B981',
                        accent: '#6366F1',
                        neutral: '#6B7280',
                        success: '#10B981',
                        warning: '#F59E0B',
                        destructive: '#EF4444',
                        background: '#F9FAFB',
                        card: '#FFFFFF',
                    },
                    fontFamily: {
                        heading: ['Playfair Display', 'serif'],
                        body: ['Inter', 'sans-serif'],
                    },
                    fontSize: {
                        'h1': '2.25rem', // 36px
                        'h2': '1.875rem', // 30px
                        'h3': '1.5rem', // 24px
                        'body-lg': '1.125rem', // 18px
                        'body': '1rem', // 16px
                        'body-sm': '0.875rem', // 14px
                        'caption': '0.75rem', // 12px
                    },
                    fontWeight: {
                        light: '300',
                        normal: '400',
                        medium: '500',
                        semibold: '600',
                        bold: '700',
                    },
                },
            },
        };
    </script>

    <!-- Font Awesome for icons (updated to v6) -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css" crossorigin="anonymous" referrerpolicy="no-referrer" media="print" onload="this.media='all'">

    <!-- Lucide Icons for modern SVG icons -->
    <script src="https://unpkg.com/lucide@latest/dist/lucide.min.js" defer></script>

    <!-- Chart.js v4 for enhanced charts -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.1/dist/chart.umd.min.js" defer></script>

    <style>
        /* Enhanced base styles for 2026 trends: Minimalism, subtle gradients, neumorphism in light mode, glassmorphism in cards */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Inter', sans-serif;
            background: linear-gradient(135deg, #F9FAFB 0%, #E5E7EB 100%);
            min-height: 100vh;
            color: #1F2937;
            transition: all 0.3s ease;
        }

        body.dark {
            background: linear-gradient(135deg, #111827 0%, #1F2937 100%);
            color: #F3F4F6;
        }

        .dark .bg-background {
            background-color: #1F2937;
        }

        .dark .bg-card {
            background-color: #374151;
            border-color: rgba(255, 255, 255, 0.1);
        }

        .dark .text-neutral {
            color: #9CA3AF;
        }

        /* Navigation enhancements: Sticky, glassmorphism */
        nav {
            background: rgba(255, 255, 255, 0.8);
            backdrop-filter: blur(16px);
            border-bottom: 1px solid rgba(0, 0, 0, 0.05);
        }

        .dark nav {
            background: rgba(31, 41, 55, 0.8);
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }

        /* Cards: Glassmorphism with subtle shadows */
        .card {
            background: rgba(255, 255, 255, 0.8);
            backdrop-filter: blur(16px);
            border: 1px solid rgba(255, 255, 255, 0.2);
            border-radius: 1.25rem;
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.05);
            transition: transform 0.2s ease, box-shadow 0.2s ease;
        }

        .card:hover {
            transform: translateY(-4px);
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
        }

        .dark .card {
            background: rgba(31, 41, 55, 0.8);
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.2);
        }

        /* Stats cards: Neumorphic in light, flat in dark */
        .stat-card {
            border-radius: 1rem;
            transition: all 0.3s ease;
        }

        /* Animations: Subtle fade and slide */
        @keyframes fadeSlideIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .animate-fade-slide {
            animation: fadeSlideIn 0.5s ease forwards;
        }

        /* Responsive grid enhancements */
        @media (min-width: 1024px) {
            .main-grid {
                grid-template-columns: 2fr 1fr;
            }
        }

        /* Chart enhancements */
        canvas {
            max-height: 300px;
        }
    </style>
</head>

<body class="bg-background">
    <div class="loading fixed inset-0 bg-background/80 flex items-center justify-center z-50 transition-opacity duration-300">
        <div class="spinner w-12 h-12 border-4 border-primary border-t-transparent rounded-full animate-spin"></div>
    </div>

    <nav class="sticky top-0 z-50 shadow-sm">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex justify-between items-center h-16">
                <div class="flex items-center space-x-4">
                    <a href="#" class="flex items-center space-x-2 text-2xl font-heading font-bold">
                        <span class="text-green-500">Property</span><span class="text-orange-500">Pay</span><span class="text-blue-500">Track</span>
                    </a>
                </div>
                <div class="hidden md:flex items-center space-x-6">
                    <div class="relative w-64">
                        <i data-lucide="search" class="absolute left-3 top-1/2 -translate-y-1/2 text-neutral lucide-icon-sm"></i>
                        <input type="text" class="w-full pl-10 pr-4 py-2 border border-gray-200 rounded-lg bg-card text-body-sm focus:border-primary focus:ring-2 focus:ring-primary/20 outline-none" placeholder="Search properties, tenants...">
                    </div>
                    <a href="#" class="text-neutral hover:text-primary transition-colors">Dashboard</a>
                    <a href="#" class="text-neutral hover:text-primary transition-colors">Properties</a>
                    <a href="#" class="text-neutral hover:text-primary transition-colors">Tenants</a>
                    <a href="#" class="text-neutral hover:text-primary transition-colors">Payments</a>
                    <a href="#" class="text-neutral hover:text-primary transition-colors">Assign Property</a>
                    <a href="#" class="text-neutral hover:text-primary transition-colors">Profile</a>
                </div>
                <div class="flex items-center space-x-4">
                    <div class="notification-container relative">
                        <button class="p-2 rounded-full hover:bg-gray-100 dark:hover:bg-gray-700 relative">
                            <i data-lucide="bell" class="lucide-icon"></i>
                            <span class="absolute top-0 right-0 bg-destructive text-white text-caption font-medium rounded-full px-1.5 py-0.5">3</span>
                        </button>
                        <div class="notification-dropdown absolute top-full right-0 w-80 bg-card border border-gray-200 rounded-lg shadow-lg mt-2 hidden z-50">
                            <div class="p-4 border-b text-body font-medium">Notifications</div>
                            <div class="divide-y">
                                <div class="p-4 text-body-sm">New payment from Sarah Wanjiku received</div>
                                <div class="p-4 text-body-sm">Overdue payment reminder sent to Grace Achieng</div>
                                <div class="p-4 text-body-sm">Property inspection scheduled for Dec 5</div>
                            </div>
                        </div>
                    </div>
                    <button id="themeToggle" class="p-2 rounded-full hover:bg-gray-100 dark:hover:bg-gray-700">
                        <i data-lucide="moon" class="lucide-icon hidden dark:block"></i>
                        <i data-lucide="sun" class="lucide-icon block dark:hidden"></i>
                    </button>
                    <a href="#" class="hidden md:inline-block bg-primary text-white px-4 py-2 rounded-lg hover:bg-primary/90 transition-colors">Logout</a>
                    <button id="mobileMenuToggle" class="md:hidden p-2 rounded-full hover:bg-gray-100 dark:hover:bg-gray-700">
                        <i data-lucide="menu" class="lucide-icon"></i>
                    </button>
                </div>
            </div>
        </div>
        <div id="mobileMenu" class="md:hidden hidden px-4 pb-4 border-t border-gray-200 dark:border-gray-700 space-y-2">
            <input type="text" class="w-full pl-10 pr-4 py-2 border border-gray-200 rounded-lg bg-card text-body-sm focus:border-primary focus:ring-2 focus:ring-primary/20 outline-none" placeholder="Search properties, tenants...">
            <a href="#" class="block py-2 text-neutral hover:text-primary">Dashboard</a>
            <a href="#" class="block py-2 text-neutral hover:text-primary">Properties</a>
            <a href="#" class="block py-2 text-neutral hover:text-primary">Tenants</a>
            <a href="#" class="block py-2 text-neutral hover:text-primary">Payments</a>
            <a href="#" class="block py-2 text-neutral hover:text-primary">Assign Property</a>
            <a href="#" class="block py-2 text-neutral hover:text-primary">Profile</a>
            <a href="#" class="block py-2 text-neutral hover:text-primary">Logout</a>
        </div>
    </nav>

    <main class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8 space-y-8">
        <!-- Header Section: Gradient background, clean typography -->
        <section class="card overflow-hidden relative animate-fade-slide" style="animation-delay: 0.1s;">
            <div class="absolute inset-0 bg-gradient-to-br from-accent to-primary opacity-90"></div>
            <div class="relative z-10 p-8 text-white">
                <h1 class="font-heading font-bold text-h1 mb-2">Welcome to PropertyPayTrack</h1>
                <p class="text-body-lg opacity-90 mb-4">Streamline your property management with real-time insights, automated workflows, and seamless rent collection.</p>
                <button class="bg-white/20 border border-white/30 text-white px-4 py-2 rounded-lg flex items-center gap-2 hover:bg-white/30 transition-all">
                    <i data-lucide="activity" class="lucide-icon-sm"></i>
                    View Analytics
                </button>
            </div>
        </section>

        <!-- Stats Grid: 4 KPIs with icons, trends -->
        <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6">
            <div class="stat-card card p-6 animate-fade-slide" style="animation-delay: 0.2s;">
                <div class="flex justify-between items-start mb-4">
                    <div>
                        <p class="text-body-sm font-medium text-neutral">Total Properties</p>
                        <h3 class="text-h3 font-bold mt-1">3</h3>
                    </div>
                    <div class="bg-primary/10 p-3 rounded-full text-primary">
                        <i data-lucide="building-2" class="lucide-icon"></i>
                    </div>
                </div>
                <div class="flex items-center gap-1 text-success text-caption font-medium">
                    <i data-lucide="arrow-up" class="lucide-icon-sm"></i>
                    +2 from last month
                </div>
            </div>
            <div class="stat-card card p-6 animate-fade-slide" style="animation-delay: 0.3s;">
                <div class="flex justify-between items-start mb-4">
                    <div>
                        <p class="text-body-sm font-medium text-neutral">Active Tenants</p>
                        <h3 class="text-h3 font-bold mt-1">28</h3>
                    </div>
                    <div class="bg-secondary/10 p-3 rounded-full text-secondary">
                        <i data-lucide="users" class="lucide-icon"></i>
                    </div>
                </div>
                <div class="flex items-center gap-1 text-success text-caption font-medium">
                    <i data-lucide="arrow-up" class="lucide-icon-sm"></i>
                    +4 from last month
                </div>
            </div>
            <div class="stat-card card p-6 animate-fade-slide" style="animation-delay: 0.4s;">
                <div class="flex justify-between items-start mb-4">
                    <div>
                        <p class="text-body-sm font-medium text-neutral">Monthly Revenue</p>
                        <h3 class="text-h3 font-bold mt-1">KSh 420,000</h3>
                    </div>
                    <div class="bg-success/10 p-3 rounded-full text-success">
                        <i data-lucide="credit-card" class="lucide-icon"></i>
                    </div>
                </div>
                <div class="flex items-center gap-1 text-success text-caption font-medium">
                    <i data-lucide="arrow-up" class="lucide-icon-sm"></i>
                    +12% from last month
                </div>
            </div>
            <div class="stat-card card p-6 animate-fade-slide" style="animation-delay: 0.5s;">
                <div class="flex justify-between items-start mb-4">
                    <div>
                        <p class="text-body-sm font-medium text-neutral">Overdue Payments</p>
                        <h3 class="text-h3 font-bold mt-1">3</h3>
                    </div>
                    <div class="bg-destructive/10 p-3 rounded-full text-destructive">
                        <i data-lucide="alert-circle" class="lucide-icon"></i>
                    </div>
                </div>
                <div class="flex items-center gap-1 text-success text-caption font-medium">
                    <i data-lucide="arrow-down" class="lucide-icon-sm"></i>
                    -2 from last month
                </div>
            </div>
        </div>

        <!-- Main Grid: Recent Payments with Chart + Quick Actions -->
        <div class="main-grid grid grid-cols-1 lg:grid-cols-[2fr_1fr] gap-6">
            <div class="card animate-fade-slide" style="animation-delay: 0.6s;">
                <div class="p-6 border-b border-gray-200 dark:border-gray-700">
                    <div class="flex justify-between items-center">
                        <div>
                            <h2 class="font-heading font-semibold text-h2">Recent Payments</h2>
                            <p class="text-body-sm text-neutral mt-1">Latest rent transactions and trends</p>
                        </div>
                        <button class="text-body-sm text-primary hover:underline flex items-center gap-1">
                            View All
                            <i data-lucide="arrow-up-right" class="lucide-icon-sm"></i>
                        </button>
                    </div>
                </div>
                <div class="p-6 space-y-6">
                    <!-- Revenue Line Chart -->
                    <canvas id="revenueChart"></canvas>
                    <!-- Pie Chart for Payment Statuses (New Addition) -->
                    <canvas id="paymentStatusChart" class="max-w-64 mx-auto"></canvas>
                    <!-- Payment Items -->
                    <div class="space-y-4">
                        <div class="flex justify-between items-center p-4 bg-card/50 rounded-lg hover:bg-card transition-all">
                            <div class="flex items-center gap-4">
                                <div class="bg-success/10 p-3 rounded-full text-success">
                                    <i data-lucide="check-circle" class="lucide-icon-sm"></i>
                                </div>
                                <div>
                                    <h4 class="font-semibold text-body">Sarah Wanjiku</h4>
                                    <p class="text-caption text-neutral">Green Valley Apt 2B • Dec 1, 2024</p>
                                </div>
                            </div>
                            <div class="text-right">
                                <p class="font-bold text-body">KSh 25,000</p>
                                <span class="bg-success text-white text-caption px-2 py-1 rounded-full">Paid</span>
                            </div>
                        </div>
                        <div class="flex justify-between items-center p-4 bg-card/50 rounded-lg hover:bg-card transition-all">
                            <div class="flex items-center gap-4">
                                <div class="bg-success/10 p-3 rounded-full text-success">
                                    <i data-lucide="check-circle" class="lucide-icon-sm"></i>
                                </div>
                                <div>
                                    <h4 class="font-semibold text-body">John Kimani</h4>
                                    <p class="text-caption text-neutral">Sunset Heights 5A • Nov 30, 2024</p>
                                </div>
                            </div>
                            <div class="text-right">
                                <p class="font-bold text-body">KSh 30,000</p>
                                <span class="bg-success text-white text-caption px-2 py-1 rounded-full">Paid</span>
                            </div>
                        </div>
                        <div class="flex justify-between items-center p-4 bg-card/50 rounded-lg hover:bg-card transition-all">
                            <div class="flex items-center gap-4">
                                <div class="bg-destructive/10 p-3 rounded-full text-destructive">
                                    <i data-lucide="alert-circle" class="lucide-icon-sm"></i>
                                </div>
                                <div>
                                    <h4 class="font-semibold text-body">Grace Achieng</h4>
                                    <p class="text-caption text-neutral">Palm Court 1C • Nov 29, 2024</p>
                                </div>
                            </div>
                            <div class="text-right">
                                <p class="font-bold text-body">KSh 20,000</p>
                                <span class="bg-destructive text-white text-caption px-2 py-1 rounded-full">Overdue</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="card animate-fade-slide" style="animation-delay: 0.7s;">
                <div class="p-6 border-b border-gray-200 dark:border-gray-700">
                    <h2 class="font-heading font-semibold text-h2">Quick Actions</h2>
                    <p class="text-body-sm text-neutral mt-1">Essential tools at your fingertips</p>
                </div>
                <div class="p-6 space-y-4">
                    <a href="#" class="flex items-center gap-4 p-4 bg-card/50 rounded-lg hover:bg-accent hover:text-white transition-all group">
                        <div class="bg-accent/10 p-3 rounded-lg text-accent group-hover:bg-white/20 group-hover:text-white">
                            <i data-lucide="home" class="lucide-icon-sm"></i>
                        </div>
                        <span class="font-medium text-body">Add New Property</span>
                        <i data-lucide="plus" class="lucide-icon-sm ml-auto opacity-60 group-hover:opacity-100"></i>
                    </a>
                    <a href="#" class="flex items-center gap-4 p-4 bg-card/50 rounded-lg hover:bg-accent hover:text-white transition-all group">
                        <div class="bg-accent/10 p-3 rounded-lg text-accent group-hover:bg-white/20 group-hover:text-white">
                            <i data-lucide="user-plus" class="lucide-icon-sm"></i>
                        </div>
                        <span class="font-medium text-body">Add New Tenant</span>
                        <i data-lucide="plus" class="lucide-icon-sm ml-auto opacity-60 group-hover:opacity-100"></i>
                    </a>
                    <a href="#" class="flex items-center gap-4 p-4 bg-card/50 rounded-lg hover:bg-accent hover:text-white transition-all group">
                        <div class="bg-accent/10 p-3 rounded-lg text-accent group-hover:bg-white/20 group-hover:text-white">
                            <i data-lucide="credit-card" class="lucide-icon-sm"></i>
                        </div>
                        <span class="font-medium text-body">Record Payment</span>
                        <i data-lucide="plus" class="lucide-icon-sm ml-auto opacity-60 group-hover:opacity-100"></i>
                    </a>
                    <a href="#" class="flex items-center gap-4 p-4 bg-card/50 rounded-lg hover:bg-accent hover:text-white transition-all group">
                        <div class="bg-accent/10 p-3 rounded-lg text-accent group-hover:bg-white/20 group-hover:text-white">
                            <i data-lucide="file-text" class="lucide-icon-sm"></i>
                        </div>
                        <span class="font-medium text-body">Generate Report</span>
                        <i data-lucide="arrow-up-right" class="lucide-icon-sm ml-auto opacity-60 group-hover:opacity-100"></i>
                    </a>
                </div>
            </div>
        </div>
    </main>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            // Initialize Lucide
            lucide.createIcons();

            // Loading
            const loading = document.querySelector('.loading');
            setTimeout(() => loading.classList.add('opacity-0', 'pointer-events-none'), 800);

            // Theme Toggle
            const themeToggle = document.getElementById('themeToggle');
            const body = document.body;
            const savedTheme = localStorage.getItem('theme') || 'light';
            if (savedTheme === 'dark') body.classList.add('dark');
            themeToggle.addEventListener('click', () => {
                body.classList.toggle('dark');
                localStorage.setItem('theme', body.classList.contains('dark') ? 'dark' : 'light');
            });

            // Mobile Menu
            const mobileToggle = document.getElementById('mobileMenuToggle');
            const mobileMenu = document.getElementById('mobileMenu');
            mobileToggle.addEventListener('click', () => mobileMenu.classList.toggle('hidden'));

            // Notification Dropdown
            const notifBell = document.querySelector('.notification-container button');
            const notifDropdown = document.querySelector('.notification-dropdown');
            notifBell.addEventListener('click', () => notifDropdown.classList.toggle('hidden'));
            document.addEventListener('click', (e) => {
                if (!notifBell.contains(e.target) && !notifDropdown.contains(e.target)) {
                    notifDropdown.classList.add('hidden');
                }
            });

            // Revenue Chart (Line)
            const revenueCtx = document.getElementById('revenueChart').getContext('2d');
            new Chart(revenueCtx, {
                type: 'line',
                data: {
                    labels: ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun'],
                    datasets: [{
                        label: 'Revenue (KSh)',
                        data: [300000, 320000, 350000, 380000, 400000, 420000],
                        borderColor: '#6366F1',
                        backgroundColor: 'rgba(99, 102, 241, 0.2)',
                        fill: true,
                        tension: 0.4,
                        pointBackgroundColor: '#FFFFFF',
                        pointBorderColor: '#6366F1',
                        pointBorderWidth: 2,
                    }]
                },
                options: {
                    responsive: true,
                    plugins: { legend: { display: false } },
                    scales: {
                        y: {
                            beginAtZero: true,
                            ticks: { callback: (value) => 'KSh ' + value.toLocaleString() }
                        }
                    },
                    interaction: { mode: 'index', intersect: false },
                }
            });

            // Payment Status Pie Chart (New)
            const statusCtx = document.getElementById('paymentStatusChart').getContext('2d');
            new Chart(statusCtx, {
                type: 'pie',
                data: {
                    labels: ['Paid', 'Overdue', 'Pending'],
                    datasets: [{
                        data: [70, 20, 10],
                        backgroundColor: ['#10B981', '#EF4444', '#F59E0B'],
                        borderWidth: 0,
                    }]
                },
                options: {
                    responsive: true,
                    plugins: {
                        legend: { position: 'bottom', labels: { font: { size: 14 } } },
                        title: { display: true, text: 'Payment Statuses', font: { size: 16 } }
                    }
                }
            });
        });
    </script>
</body>
</html>